<div></div>
<br>
<br>
<div class="container py-5" *ngIf="product">
  <div class="row">

    <!-- Thumbnails (Left on md+, Top on small screens) -->
    <div class="col-12 col-md-4 d-flex flex-row flex-md-column gap-2 mb-3 mb-md-0">
      <img 
        *ngFor="let img of product.images" 
        [src]="img" 
        class="img-fluid rounded thumbnail-image" 
        [class.selected]="img === selectedImage"
        alt="{{ product.name }}" 
        (click)="selectImage(img)">
    </div>

    <!-- Main Carousel -->
    <div class="col-12 col-md-8">
      <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div 
            *ngFor="let img of product.images; let i = index" 
            class="carousel-item" 
            [class.active]="i === 0">
            <img [src]="img" class="d-block product-image rounded" alt="{{ product.name }}">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>
    </div>

    <!-- Product Information -->
    <div class="col-12 mt-4">
      <h2 class="fw-bold mb-3">{{ product.name }}</h2>
      <p class="text-muted mb-3">{{ product.description }}</p>
      <h4 class="text-primary mb-4">â‚¹{{ product.price }}</h4>

      <!-- Quantity input -->
      <div class="mb-3">
        <label for="quantity" class="form-label">Quantity</label>
        <input type="number" id="quantity" class="form-control" value="1" min="1" max="10">
      </div>

      <!-- External Links -->
      <div class="d-flex gap-2 flex-wrap">
        <button class="btn btn-primary flex-fill" (click)="openUrl(product.meeshoUrl)">Meesho</button>
        <button class="btn btn-warning flex-fill" (click)="openUrl(product.amazonUrl)">Amazon</button>
        <button class="btn btn-info flex-fill" (click)="openUrl(product.flipkartUrl)">Flipkart</button>
      </div>
    </div>

  </div>
</div>
