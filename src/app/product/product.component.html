<!-- Sale Banner -->
<section class="sale-banner">
  <div class="container">
    <div class="banner-content">
      <div class="banner-image">
        <img src="https://thumbs.dreamstime.com/b/percent-off-d-number-sale-banner-percent-off-d-number-sale-banner-vector-illustration-379771461.jpg"
          alt="Sale Banner" loading="eager">
      </div>
      <div class="banner-text">
        <div class="banner-badge">ðŸŽ‰ LIMITED TIME OFFER</div>
        <h2 class="banner-title">Monsoon Sale is Live!</h2>
        <p class="banner-description">
          Get up to <strong>40% off</strong> on handmade bangles. Don't miss out on our exclusive collection!
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Loading State -->
<div *ngIf="isLoading" class="loading-container">
  <div class="spinner"></div>
  <p>Loading products...</p>
</div>

<!-- Products Section -->
<section class="products-section" *ngIf="!isLoading">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Our Premium Collection</h2>
      <p class="section-subtitle">Discover handcrafted bangles and glass art from Firozabad</p>
    </div>

    <div class="products-grid">
      <article class="product-card" *ngFor="let product of products" loading="lazy">
        <!-- Product Image Container -->
        <div class="product-image-wrapper" [routerLink]="['/product', getProductSlug(product)]">
          <img [src]="product.images[0]" 
               [alt]="product.name" 
               class="product-image"
               loading="lazy" 
               decoding="async">
          <div class="product-overlay">
            <button class="quick-view-btn">Quick View</button>
          </div>
        </div>

        <!-- Product Info -->
        <div class="product-info">
          <!-- Rating -->
          <div class="rating-wrapper">
            <div class="stars">
              <i *ngFor="let filled of getStarArray(product.rating)" 
                 class="star-icon"
                 [class.filled]="filled">â˜…</i>
            </div>
            <span class="rating-text">{{ product.rating }}</span>
          </div>

          <!-- Product Name -->
          <h3 class="product-name" [title]="product.name">
            {{ product.name }}
          </h3>

          <!-- Product Description -->
          <p class="product-description" [title]="product.description">
            {{ product.description }}
          </p>

          <!-- Price & CTA -->
          <div class="product-footer">
            <div class="price-section">
              <span class="price">â‚¹{{ product.price }}</span>
              <span class="price-label">Best Price</span>
            </div>
            <button class="details-btn" [routerLink]="['/product', getProductSlug(product)]">
              View Details
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>

          <!-- Marketplace Links -->
          <div class="marketplace-links" *ngIf="product.urls">
            <p class="marketplace-label">Buy Now:</p>
            <div class="marketplace-buttons">
              <a *ngIf="product.urls?.meesho" 
                 [href]="product.urls.meesho" 
                 target="_blank"
                 rel="noopener noreferrer"
                 class="marketplace-btn meesho">
                <span>Meesho</span>
              </a>
              <a *ngIf="product.urls?.amazon" 
                 [href]="product.urls.amazon" 
                 target="_blank"
                 rel="noopener noreferrer"
                 class="marketplace-btn amazon">
                <span>Amazon</span>
              </a>
              <a *ngIf="product.urls?.flipkart" 
                 [href]="product.urls.flipkart" 
                 target="_blank"
                 rel="noopener noreferrer"
                 class="marketplace-btn flipkart">
                <span>Flipkart</span>
              </a>
            </div>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>